import"../chunks/NZTpNUN0.js";import"../chunks/C2mA3Dd9.js";import{o as Y,s as z}from"../chunks/DvppSqm3.js";import{p as I,f as H,a as J,t as O,j as o,b as q,c as K,s as t,d as l,r as i,E as n,l as a,q as Q}from"../chunks/B3WiIwnk.js";import{i as W}from"../chunks/Bki4Kpkx.js";import{a as X,e as Z}from"../chunks/8_3cCop2.js";import{r as u}from"../chunks/CbMmN0gb.js";import{s as ee}from"../chunks/CWmBAHAP.js";import{s as ae}from"../chunks/sjmaf18J.js";import{b as d}from"../chunks/8pNFwzZQ.js";import{i as se}from"../chunks/CLYe8iih.js";const te=""+new URL("../assets/hero_bg.YeAxDV7B.jpeg",import.meta.url).href;var oe=H("<p> </p>"),re=H('<section class="page-hero svelte-2ag79d"><h1 class="svelte-2ag79d">문자수신등록</h1></section> <div class="form-container svelte-2ag79d"><h2 class="form-title svelte-2ag79d">문자수신등록</h2> <form method="POST" action="?/register"><div class="form-group svelte-2ag79d"><label for="student-name" class="svelte-2ag79d">학생 이름</label> <input type="text" id="student-name" name="student-name" class="svelte-2ag79d"/></div> <div class="form-group svelte-2ag79d"><label for="school" class="svelte-2ag79d">학교</label> <input type="text" id="school" name="school" class="svelte-2ag79d"/></div> <div class="form-group svelte-2ag79d"><label for="grade" class="svelte-2ag79d">학년</label> <input type="text" id="grade" name="grade" class="svelte-2ag79d"/></div> <div class="form-group svelte-2ag79d"><label for="phone1" class="svelte-2ag79d">학부모님 연락처</label> <div class="phone-group svelte-2ag79d"><input type="text" id="phone1" name="phone1" maxlength="3" class="svelte-2ag79d"/> <span class="svelte-2ag79d">-</span> <input type="text" id="phone2" name="phone2" maxlength="4" class="svelte-2ag79d"/> <span class="svelte-2ag79d">-</span> <input type="text" id="phone3" name="phone3" maxlength="4" class="svelte-2ag79d"/></div></div> <div class="form-actions svelte-2ag79d"><button type="submit" class="submit-btn svelte-2ag79d">제출</button></div> <!></form></div>',1);function he(M,$){I($,!1);let m,g=n(""),v=n(""),f=n(""),h=n(""),C=n(""),b=n(""),c=n(""),p=n(!1);Y(()=>{(s=>{const r=()=>{typeof window<"u"&&window.gsap&&window.ScrollTrigger?(m=window.gsap,s()):setTimeout(r,50)};r()})(()=>{m.from(".page-hero h1",{opacity:0,y:50,duration:1,ease:"power2.out"}),m.from(".form-container",{opacity:0,y:50,duration:.8,delay:.2,ease:"power2.out",scrollTrigger:{trigger:".form-container",start:"top 80%",markers:!1}}),console.log("Contact Page: GSAP animations defined.")})});const N=async e=>{console.log("Form submitted:",{action:e.action,cancel:e.cancel,formData:Object.fromEntries(e.formData.entries()),formElement:e.formElement}),a(c,"제출 중..."),a(p,!1);let s;try{const r=await fetch(e.action,{method:"POST",body:e.formData,headers:{accept:"application/json"}}),S=await r.json();s={status:r.status,data:S}}catch{s={status:500,data:{message:"서버와 통신 중 오류가 발생했습니다."}}}s?.data&&s.status===200?(a(c,s.data.message||"문자 수신 등록이 완료되었습니다!"),a(p,!0),a(g,""),a(v,""),a(f,""),a(h,""),a(C,""),a(b,"")):(a(c,s?.data?.message||`등록 실패: 알 수 없는 오류 (HTTP Status: ${s?.status})`),a(p,!1)),console.log("Form submission final result:",s)};se();var T=re(),F=J(T),j=t(F,2),_=t(l(j),2),B=l(_),P=t(l(B),2);u(P),i(B);var y=t(B,2),k=t(l(y),2);u(k),i(y);var w=t(y,2),A=t(l(w),2);u(A),i(w);var x=t(w,2),G=t(l(x),2),D=l(G);u(D);var E=t(D,4);u(E);var L=t(E,4);u(L),i(G),i(x);var R=t(x,4);{var U=e=>{var s=oe();let r;var S=l(s,!0);i(s),O(V=>{r=ee(s,1,"submission-status svelte-2ag79d",null,r,V),z(S,o(c))},[()=>({success:o(p),error:!o(p)})],Q),q(e,s)};W(R,e=>{o(c)&&e(U)})}i(_),X(_,(e,s)=>Z?.(e,s),()=>N),i(j),O(()=>ae(F,`background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('${te}')`)),d(P,()=>o(g),e=>a(g,e)),d(k,()=>o(v),e=>a(v,e)),d(A,()=>o(f),e=>a(f,e)),d(D,()=>o(h),e=>a(h,e)),d(E,()=>o(C),e=>a(C,e)),d(L,()=>o(b),e=>a(b,e)),q(M,T),K()}export{he as component};
